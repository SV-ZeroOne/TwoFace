<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xmlns="http://www.springframework.org/schema/beans"
               xmlns:context="http://www.springframework.org/schema/context"
               xmlns:p="http://www.springframework.org/schema/p"
               xsi:schemaLocation="http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

<bean id="entityManager"
      factory-bean="entityManagerFactory"
      factory-method="createEntityManager" />


<bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
    <property name="location" value="classpath:za/co/entelect/bootcamp/twoface/squareeyes/persistence/jdbc.properties"/>
</bean>

<bean id="dataSource"
      class="org.springframework.jdbc.datasource.DriverManagerDataSource">
    <property name="driverClassName" value="${jdbc.driverClassName}" />
    <property name="url" value="${jdbc.url}" />
    <property name="username" value="${jdbc.username}" />
    <property name="password" value="${jdbc.password}" />
</bean>

<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
    <property name="entityManagerFactory" ref="entityManagerFactory"/>
    <property name="dataSource" ref="dataSource"/>
</bean>

<bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"
      p:dataSource-ref="dataSource" p:jpaVendorAdapter-ref="jpaAdapter">

    <property name="jpaVendorAdapter">
        <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
            <property name="generateDdl" value="true" />
            <property name="databasePlatform" value="${jdbc.dialect}"/>
        </bean>
    </property>
    <property name="loadTimeWeaver">
        <bean class="org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver" />
    </property>
    <property name="persistenceXmlLocation" value="classpath:META-INF/persistence.xml" />
</bean>

<bean id="jpaAdapter" class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter" p:showSql="true" />


<bean id="ComicCreatorsRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.creators.RelationalComicCreatorsRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="CreatorsRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.creators.RelationalCreatorsRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="CustomerAddressRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.customers.RelationalCustomerAddressRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="CustomersRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.customers.RelationalCustomersRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="ShoppingCartsRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.customers.RelationalShoppingCartsRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="IssuesRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.issues.RelationalIssuesRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="CardPaymentsRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.sales.RelationalCardPaymentsRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="CustomerOrdersRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.sales.RelationalCustomerOrdersRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="InvoicesRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.sales.RelationalInvoicesRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="VoucherPaymentsRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.sales.RelationalVoucherPaymentsRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="VouchersRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.sales.RelationalVouchersRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="StockRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.stock.RelationalStockRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="OrdersRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.suppliers.RelationalOrdersRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="SupplierPaymentsRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.suppliers.RelationalSupplierPaymentsRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="SupplierQuotesRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.suppliers.RelationalSupplierQuotesRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
<bean id="SuppliersRepository" class="za.co.entelect.bootcamp.twoface.squareeyes.persistence.relational.suppliers.RelationalSuppliersRepository">
    <property name="entityManager" ref="entityManager"></property>
</bean>
</beans>